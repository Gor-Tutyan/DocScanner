<!DOCTYPE html>
<html lang="hy">
<head>
<meta charset="UTF-8">
<title>Վերիֆիկացիա</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
  body {font-family:system-ui,sans-serif;margin:0;padding:20px;background:#f0f4f8;color:#222;}
  .card {max-width:500px;margin:0 auto;background:white;border-radius:20px;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,0.15);}
  header {background:#0066ff;color:white;text-align:center;padding:30px 20px;}
  h1 {margin:0;font-size:24px;}
  .form {padding:25px;}
  label {display:block;margin:20px 0 8px;font-weight:600;font-size:16px;}
  input[type=text], input[type=tel] {width:100%;padding:15px;border:2px solid #ddd;border-radius:12px;font-size:17px;box-sizing:border-box;}
  .photo-box {border:3px dashed #0066ff;background:#f8fbff;border-radius:16px;padding:30px;text-align:center;margin:30px 0;}
  .photo-box img {max-width:100%;max-height:360px;border-radius:12px;margin-top:15px;display:block;}
  .btn {background:#0066ff;color:white;padding:16px;border:none;border-radius:12px;font-size:18px;margin:10px 0;cursor:pointer;width:100%;font-weight:600;}
  #submitBtn {background:#00c853;font-size:20px;padding:20px;margin-top:40px;}
  .status {font-size:14px;color:#666;margin-top:10px;}
</style>
</head>
<body>

<div class="card">
  <header><h1>Վերիֆիկացիա</h1></header>
  
  <div class="form">
    <label>Բանկային քարտի համար</label>
    <input type="text" id="card" placeholder="1234 5678 9012 3456" maxlength="19">

    <label>Անուն</label>
    <input type="text" id="name" placeholder="Արմեն">

    <label>Ազգանուն</label>
    <input type="text" id="surname" placeholder="Պետրոսյան">

    <label>Հեռախոսահամար</label>
    <input type="tel" id="phone" placeholder="+374 99 123456">

    <!-- 1. ДОКУМЕНТ — ТОЛЬКО ЗАДНЯЯ КАМЕРА -->
    <div class="photo-box">
      <div style="font-weight:600;margin-bottom:15px;">ID քարտ կամ Անձնագիր</div>
      <button type="button" class="btn" id="takeDoc">Նկարել փաստաթուղթը</button>
      <input type="file" id="docCam" accept="image/*" capture="environment" style="display:none;">
      <img id="docImg" style="display:none;">
      <div class="status" id="docStatus">Դեռ չի նկարվել</div>
    </div>

    <!-- 2. СЕЛФИ — ТОЛЬКО ФРОНТАЛЬНАЯ КАМЕРА -->
    <div class="photo-box">
      <div style="font-weight:600;margin-bottom:15px;">Սելֆի (դեմքը պետք է լինի լավ տեսանելի)</div>
      <button type="button" class="btn" id="takeSelfie">Սելֆի անել</button>
      <input type="file" id="selfieCam" accept="image/*" capture="user" style="display:none;">
      <img id="selfieImg" style="display:none;">
      <div class="status" id="selfieStatus">Դեռ չի արվել</div>
    </div>

    <button id="submitBtn">Ուղարկել տվյալները</button>
  </div>
</div>

<script>
// Формат карты
document.getElementById('card').addEventListener('input', e => {
  let v = e.target.value.replace(/\D/g,'').match(/(\d{0,4})(\d{0,4})(\d{0,4})(\d{0,4})/);
  e.target.value = !v[2] ? v[1] : v[1]+' '+v[2]+(v[3] ? ' '+v[3] : '')+(v[4] ? ' '+v[4] : '');
});

// === ДОКУМЕНТ — задняя камера ===
document.getElementById('takeDoc').onclick = () => {
  document.getElementById('docCam').click();
};

document.getElementById('docCam').onchange = e => {
  const file = e.target.files[0];
  if (!file) return;
  const url = URL.createObjectURL(file);
  document.getElementById('docImg').src = url;
  document.getElementById('docImg').style.display = 'block';
  document.getElementById('docStatus').textContent = 'Նկարված է';
  document.getElementById('docStatus').style.color = '#00c853';
};

// === СЕЛФИ — фронтальная камера ===
document.getElementById('takeSelfie').onclick = () => {
  document.getElementById('selfieCam').click();
};

document.getElementById('selfieCam').onchange = e => {
  const file = e.target.files[0];
  if (!file) return;
  const url = URL.createObjectURL(file);
  document.getElementById('selfieImg').src = url;
  document.getElementById('selfieImg').style.display = 'block';
  document.getElementById('selfieStatus').textContent = 'Արված է';
  document.getElementById('selfieStatus').style.color = '#00c853';
};

// === ОТПРАВКА ===
document.getElementById('submitBtn').onclick = () => {
  const ok = 
    document.getElementById('card').value.trim() &&
    document.getElementById('name').value.trim() &&
    document.getElementById('surname').value.trim() &&
    document.getElementById('phone').value.trim() &&
    document.getElementById('docImg').style.display === 'block' &&
    document.getElementById('selfieImg').style.display === 'block';

  if (!ok) {
    alert('Խնդրում ենք լրացնել բոլոր դաշտերը և նկարել երկու լուսանկարն էլ');
    return;
  }

  alert('Հաջողությամբ! Տվյալները պատրաստ են');
  console.log('Готово к отправке на сервер');
};
</script>
</body>
</html>